/// <reference types="node" />
import { AsyncLocalStorage } from 'node:async_hooks';
import { ServiceGlobalConfig, ServiceRequestConfig } from '../public-types-backend/service.public-types';
export declare const CIRCULAR_DEPENDENCY_ERROR = "CIRCULAR_DEPENDENCY";
export interface SquidServiceLike extends Record<string, Function | object> {
    new <T extends SquidServiceLike>(config: ServiceGlobalConfig): T;
    config: ServiceGlobalConfig;
}
export declare function getOrCreateSquidService<T extends SquidServiceLike>(serviceClass: T, globalConfig: ServiceGlobalConfig, requestConfig: ServiceRequestConfig): T;
export declare function getSquidServiceRequestConfig(requestLocalStorage: AsyncLocalStorage<ServiceRequestConfig>): ServiceRequestConfig;
export interface SquidServiceMetadata {
    version: number;
}
export declare function getSquidServiceMetadata(service: SquidServiceLike): SquidServiceMetadata;
export declare function setSquidServiceMetadata(service: SquidServiceLike): void;
export declare function getSquidServiceConfig(): ServiceGlobalConfig;
