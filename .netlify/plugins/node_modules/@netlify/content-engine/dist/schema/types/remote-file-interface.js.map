{"version":3,"file":"remote-file-interface.js","names":["_redux","require","_redux2","_actions","_polyfillRemoteFile","addRemoteFileInterfaceFields","schemaComposer","typeComposer","remoteFileInterfaceType","getOrCreateRemoteFileInterface","addFields","getFields","enums","getRemoteFileEnums","createEnumTC","bind","getOrCreateOTC","tc","width","height","src","getOrCreateIFTC","setDescription","boundActions","bindActionCreators","actions","store","dispatch","getRemoteFileFields"],"sources":["../../../src/schema/types/remote-file-interface.ts"],"sourcesContent":["import {\n  SchemaComposer,\n  ObjectTypeComposer,\n  InterfaceTypeComposer,\n} from \"graphql-compose\";\nimport { bindActionCreators } from \"redux\";\nimport { store } from \"../../redux\";\nimport { actions } from \"../../redux/actions\";\nimport {\n  getRemoteFileEnums,\n  getRemoteFileFields,\n} from \"../../plugin-utils/polyfill-remote-file\";\n\nexport function addRemoteFileInterfaceFields<TContext = unknown>(\n  schemaComposer: SchemaComposer<unknown>,\n  typeComposer: ObjectTypeComposer<unknown, TContext>,\n): void {\n  const remoteFileInterfaceType =\n    getOrCreateRemoteFileInterface(schemaComposer);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  typeComposer.addFields(remoteFileInterfaceType.getFields() as any);\n}\n\nexport function getOrCreateRemoteFileInterface(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  schemaComposer: SchemaComposer<any>,\n): InterfaceTypeComposer {\n  const enums = getRemoteFileEnums(\n    schemaComposer.createEnumTC.bind(schemaComposer),\n  );\n\n  schemaComposer.getOrCreateOTC(`RemoteFileResize`, (tc) => {\n    tc.addFields({\n      width: `Int`,\n      height: `Int`,\n      src: `String`,\n    });\n  });\n\n  return schemaComposer.getOrCreateIFTC(`RemoteFile`, (tc) => {\n    tc.setDescription(`Remote Interface`);\n\n    const boundActions = bindActionCreators(actions, store.dispatch);\n\n    // @ts-ignore - types are messed up by schema composer maybe new version helps here\n    tc.addFields(getRemoteFileFields(enums, boundActions, store));\n  });\n}\n"],"mappings":";;;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,mBAAA,GAAAH,OAAA;AAKO,SAASI,4BAA4BA,CAC1CC,cAAuC,EACvCC,YAAmD,EAC7C;EACN,MAAMC,uBAAuB,GAC3BC,8BAA8B,CAACH,cAAc,CAAC;EAChD;EACAC,YAAY,CAACG,SAAS,CAACF,uBAAuB,CAACG,SAAS,CAAC,CAAQ,CAAC;AACpE;AAEO,SAASF,8BAA8BA;AAC5C;AACAH,cAAmC,EACZ;EACvB,MAAMM,KAAK,GAAG,IAAAC,sCAAkB,EAC9BP,cAAc,CAACQ,YAAY,CAACC,IAAI,CAACT,cAAc,CACjD,CAAC;EAEDA,cAAc,CAACU,cAAc,CAAE,kBAAiB,EAAGC,EAAE,IAAK;IACxDA,EAAE,CAACP,SAAS,CAAC;MACXQ,KAAK,EAAG,KAAI;MACZC,MAAM,EAAG,KAAI;MACbC,GAAG,EAAG;IACR,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAOd,cAAc,CAACe,eAAe,CAAE,YAAW,EAAGJ,EAAE,IAAK;IAC1DA,EAAE,CAACK,cAAc,CAAE,kBAAiB,CAAC;IAErC,MAAMC,YAAY,GAAG,IAAAC,yBAAkB,EAACC,gBAAO,EAAEC,aAAK,CAACC,QAAQ,CAAC;;IAEhE;IACAV,EAAE,CAACP,SAAS,CAAC,IAAAkB,uCAAmB,EAAChB,KAAK,EAAEW,YAAY,EAAEG,aAAK,CAAC,CAAC;EAC/D,CAAC,CAAC;AACJ"}