{"version":3,"file":"error-schema.js","names":["_joi","_interopRequireDefault","require","_types","Position","exports","Joi","object","keys","line","number","column","unknown","errorSchema","code","string","text","stack","array","items","fileName","functionName","allow","lineNumber","columnNumber","category","valid","Object","values","ErrorCategory","level","Level","type","Type","filePath","location","start","required","end","docsUrl","uri","allowRelative","relativeOnly","error","context","group","panicOnBuild","boolean","pluginName"],"sources":["../../src/structured-errors/error-schema.ts"],"sourcesContent":["import Joi from \"joi\";\nimport {\n  ILocationPosition,\n  IStructuredError,\n  Type,\n  ErrorCategory,\n  Level,\n} from \"./types\";\n\nexport const Position: Joi.ObjectSchema<ILocationPosition> = Joi.object()\n  .keys({\n    line: Joi.number(),\n    column: Joi.number(),\n  })\n  .unknown();\n\nexport const errorSchema: Joi.ObjectSchema<IStructuredError> =\n  Joi.object().keys({\n    code: Joi.string(),\n    text: Joi.string(),\n    stack: Joi.array()\n      .items(\n        Joi.object().keys({\n          fileName: Joi.string(),\n          functionName: Joi.string().allow(null),\n          lineNumber: Joi.number().allow(null),\n          columnNumber: Joi.number().allow(null),\n        }),\n      )\n      .allow(null),\n    category: Joi.string().valid(...Object.values(ErrorCategory)),\n    level: Joi.string().valid(...Object.values(Level)),\n    type: Joi.string().valid(...Object.values(Type)),\n    filePath: Joi.string(),\n    location: Joi.object({\n      start: Position.required(),\n      end: Position,\n    }).unknown(),\n    docsUrl: Joi.string().uri({\n      allowRelative: false,\n      relativeOnly: false,\n    }),\n    error: Joi.object({}).unknown(),\n    context: Joi.object({}).unknown(),\n    group: Joi.string(),\n    panicOnBuild: Joi.boolean(),\n    pluginName: Joi.string(),\n  });\n"],"mappings":";;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAQO,MAAME,QAA6C,GAAAC,OAAA,CAAAD,QAAA,GAAGE,YAAG,CAACC,MAAM,CAAC,CAAC,CACtEC,IAAI,CAAC;EACJC,IAAI,EAAEH,YAAG,CAACI,MAAM,CAAC,CAAC;EAClBC,MAAM,EAAEL,YAAG,CAACI,MAAM,CAAC;AACrB,CAAC,CAAC,CACDE,OAAO,CAAC,CAAC;AAEL,MAAMC,WAA+C,GAAAR,OAAA,CAAAQ,WAAA,GAC1DP,YAAG,CAACC,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;EAChBM,IAAI,EAAER,YAAG,CAACS,MAAM,CAAC,CAAC;EAClBC,IAAI,EAAEV,YAAG,CAACS,MAAM,CAAC,CAAC;EAClBE,KAAK,EAAEX,YAAG,CAACY,KAAK,CAAC,CAAC,CACfC,KAAK,CACJb,YAAG,CAACC,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IAChBY,QAAQ,EAAEd,YAAG,CAACS,MAAM,CAAC,CAAC;IACtBM,YAAY,EAAEf,YAAG,CAACS,MAAM,CAAC,CAAC,CAACO,KAAK,CAAC,IAAI,CAAC;IACtCC,UAAU,EAAEjB,YAAG,CAACI,MAAM,CAAC,CAAC,CAACY,KAAK,CAAC,IAAI,CAAC;IACpCE,YAAY,EAAElB,YAAG,CAACI,MAAM,CAAC,CAAC,CAACY,KAAK,CAAC,IAAI;EACvC,CAAC,CACH,CAAC,CACAA,KAAK,CAAC,IAAI,CAAC;EACdG,QAAQ,EAAEnB,YAAG,CAACS,MAAM,CAAC,CAAC,CAACW,KAAK,CAAC,GAAGC,MAAM,CAACC,MAAM,CAACC,oBAAa,CAAC,CAAC;EAC7DC,KAAK,EAAExB,YAAG,CAACS,MAAM,CAAC,CAAC,CAACW,KAAK,CAAC,GAAGC,MAAM,CAACC,MAAM,CAACG,YAAK,CAAC,CAAC;EAClDC,IAAI,EAAE1B,YAAG,CAACS,MAAM,CAAC,CAAC,CAACW,KAAK,CAAC,GAAGC,MAAM,CAACC,MAAM,CAACK,WAAI,CAAC,CAAC;EAChDC,QAAQ,EAAE5B,YAAG,CAACS,MAAM,CAAC,CAAC;EACtBoB,QAAQ,EAAE7B,YAAG,CAACC,MAAM,CAAC;IACnB6B,KAAK,EAAEhC,QAAQ,CAACiC,QAAQ,CAAC,CAAC;IAC1BC,GAAG,EAAElC;EACP,CAAC,CAAC,CAACQ,OAAO,CAAC,CAAC;EACZ2B,OAAO,EAAEjC,YAAG,CAACS,MAAM,CAAC,CAAC,CAACyB,GAAG,CAAC;IACxBC,aAAa,EAAE,KAAK;IACpBC,YAAY,EAAE;EAChB,CAAC,CAAC;EACFC,KAAK,EAAErC,YAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACK,OAAO,CAAC,CAAC;EAC/BgC,OAAO,EAAEtC,YAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACK,OAAO,CAAC,CAAC;EACjCiC,KAAK,EAAEvC,YAAG,CAACS,MAAM,CAAC,CAAC;EACnB+B,YAAY,EAAExC,YAAG,CAACyC,OAAO,CAAC,CAAC;EAC3BC,UAAU,EAAE1C,YAAG,CAACS,MAAM,CAAC;AACzB,CAAC,CAAC"}